{% extends 'dashboard/base.html' %} 
{% load static %} 
{% block sidbar %} 
    {% include 'dashboard/partials/sideBar.html' %} 
{% endblock %} 
{% block content %}
<!-- content @s -->
<div class="nk-content">
  <div class="container-fluid">
    <div class="nk-content-inner">
      {% for message in messages %}
      <div
        class="alert alert-{{ message.tags }} alert-dismissible"
        role="alert"
      >
        {{ message }}
        <button
          type="button"
          class="close"
          data-dismiss="alert"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
      <div class="nk-content-body">
        <div class="nk-block-head nk-block-head-sm">
          <div class="nk-block-between">
            <div class="nk-block-head-content">
              <h3 class="nk-block-title page-title">الموظفين</h3>
              <div class="nk-block-des text-soft">
                <p>تفاصيل ومعلومات كل موظف في القسم</p>
              </div>
            </div>
            <!-- .nk-block-head-content -->
            <div class="nk-block-head-content">
              <div class="toggle-wrap nk-block-tools-toggle">
                <a
                  href="#"
                  class="btn btn-icon btn-trigger toggle-expand me-n1"
                  data-target="pageMenu"
                  ><em class="icon ni ni-menu-alt-r"></em
                ></a>
                <div class="toggle-expand-content" data-content="pageMenu">
                  <ul class="nk-block-tools g-3">
                    
                    <li class="nk-block-tools-opt">
                      <div class="drodown">
                        <a
                          href="#"
                          class="dropdown-toggle btn btn-icon btn-primary"
                          data-bs-toggle="dropdown"
                          ><em class="icon ni ni-plus"></em
                        ></a>
                        <div class="dropdown-menu dropdown-menu-end">
                          <ul class="link-list-opt no-bdr">
                            <li>
                              <a data-bs-toggle="modal" href="#addData"
                                ><span>اضافة موظف</span></a
                              >
                            </li>
                            <li>
                              <a href="#"><span>Add Team</span></a>
                            </li>
                            <li>
                              <a href="#"><span>Import User</span></a>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
              <!-- .toggle-wrap -->
            </div>
            <!-- .nk-block-head-content -->
          </div>
          <!-- .nk-block-between -->
        </div>
        <!-- .nk-block-head -->
        <div class="nk-block">
          <div class="card card-bordered card-stretch">
            <div class="card-inner-group">
              
              <!-- .card-inner -->
              <div class="card-inner p-0">
                <div class="nk-tb-list nk-tb-ulist">
                  <div class="nk-tb-item nk-tb-head">
                    <div class="nk-tb-col nk-tb-col-check">
                      <div
                        class="custom-control custom-control-sm custom-checkbox notext"
                      >
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="uid"
                        />
                        <label class="custom-control-label" for="uid"></label>
                      </div>
                    </div>
                    <div class="nk-tb-col">
                      <span class="sub-text">الموظف</span>
                    </div>
                    <div class="nk-tb-col tb-col-mb">
                      <span class="sub-text">القسم</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                      <span class="sub-text">رقم الهاتف</span>
                    </div>
                    <div class="nk-tb-col tb-col-xxl">
                      <span class="sub-text">العنوان</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                      <span class="sub-text">التحقيق </span>
                    </div>
                    <div class="nk-tb-col tb-col-md">
                      <span class="sub-text">الحالة</span>
                    </div>
                    <div class="nk-tb-col nk-tb-col-tools text-end">
                      <div class="dropdown">
                        <a
                          href="#"
                          class="btn btn-xs btn-outline-light btn-icon dropdown-toggle"
                          data-bs-toggle="dropdown"
                          data-offset="0,5"
                          ><em class="icon ni ni-plus"></em
                        ></a>
                        <div
                          class="dropdown-menu dropdown-menu-xs dropdown-menu-end"
                        >
                          <ul class="link-tidy sm no-bdr">
                            <li>
                              <div
                                class="custom-control custom-control-sm custom-checkbox"
                              >
                                <input
                                  type="checkbox"
                                  class="custom-control-input"
                                  checked=""
                                  id="ph"
                                />
                                <label class="custom-control-label" for="ph"
                                  >Phone</label
                                >
                              </div>
                            </li>
                            <li>
                              <div
                                class="custom-control custom-control-sm custom-checkbox"
                              >
                                <input
                                  type="checkbox"
                                  class="custom-control-input"
                                  id="vri"
                                />
                                <label class="custom-control-label" for="vri"
                                  >Verified</label
                                >
                              </div>
                            </li>
                            <li>
                              <div
                                class="custom-control custom-control-sm custom-checkbox"
                              >
                                <input
                                  type="checkbox"
                                  class="custom-control-input"
                                  id="st"
                                />
                                <label class="custom-control-label" for="st"
                                  >Status</label
                                >
                              </div>
                            </li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- .nk-tb-item -->
                  {% for employee, form in employee_forms %}
                  <div class="nk-tb-item">
                    <div class="nk-tb-col nk-tb-col-check">
                      <div
                        class="custom-control custom-control-sm custom-checkbox notext"
                      >
                        <input
                          type="checkbox"
                          class="custom-control-input"
                          id="{{employee.id}}"
                        />
                        <label
                          class="custom-control-label"
                          for="{{employee.id}}"
                        ></label>
                      </div>
                    </div>
                    <div class="nk-tb-col">
                      <div class="user-card">
                        <div class="user-avatar bg-primary">
                          <span>AB</span>
                        </div>
                        <div class="user-info">
                          <span class="tb-lead"
                            >{{employee.name}}
                            <span class="dot dot-success d-md-none ms-1"></span
                          ></span>
                          <span>{{employee.email}}</span>
                        </div>
                      </div>
                    </div>
                    <div class="nk-tb-col tb-col-mb">
                      <span class="tb-lead">{{employee.department.name}}</span>
                      <span>{{employee.designation}}</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                      <span>{{employee.phone}}</span>
                    </div>
                    <div class="nk-tb-col tb-col-xxl">
                      <span>{{employee.address}}</span>
                    </div>
                    <div class="nk-tb-col tb-col-lg">
                      <ul class="list-status">
                        <li>
                          <em class="icon text-danger ni ni-alert-circle"></em>
                          <span>Email</span>
                        </li>
                        
                      </ul>
                    </div>
                    <div class="nk-tb-col tb-col-md">
                      <span class="tb-status text-success">Active</span>
                    </div>
                    <div class="nk-tb-col nk-tb-col-tools">
                      <ul class="nk-tb-actions gx-1">
                        <li class="nk-tb-action-hidden">
                          <a
                            href="#"
                            class="btn btn-trigger btn-icon"
                            data-bs-toggle="tooltip"
                            data-bs-placement="top"
                            title="Send Email"
                          >
                            <em class="icon ni ni-mail-fill"></em>
                          </a>
                        </li>
                        <li class="nk-tb-action-hidden">
                          <a
                            href="#editData-{{ employee.id }}"
                            class="btn btn-trigger btn-icon"
                            data-bs-toggle="modal"
                            data-bs-placement="top"
                            title="معاينة"
                          >
                            <em class="icon ni ni-eye"></em>
                          </a>
                        </li>
                        <li>
                          <div class="drodown">
                            <a
                              href="#"
                              class="dropdown-toggle btn btn-icon btn-trigger"
                              data-bs-toggle="dropdown"
                              ><em class="icon ni ni-more-h"></em
                            ></a>
                            <div class="dropdown-menu dropdown-menu-end">
                              <ul class="link-list-opt no-bdr">
                                <li>
                                  <a href="#"
                                    ><em class="icon ni ni-eye"></em
                                    ><span>View Details</span></a
                                  >
                                </li>
                                <li>
                                  <a
                                    data-bs-toggle="modal"
                                    href="#editData-{{employee.id}}"
                                    ><em class="icon ni ni-edit"></em
                                    ><span>Edit Data</span></a
                                  >
                                </li>
                              </ul>
                            </div>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <!-- Edit modal -->
                  <div class="modal fade" id="editData-{{employee.id}}">
                    <div class="modal-dialog modal-lg" role="document">
                      <div class="modal-content">
                        <a
                          href="#"
                          class="close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        >
                          <em class="icon ni ni-cross-sm"></em>
                        </a>
                        <div class="modal-body modal-body-md">
                          <h5 class="modal-title">تعديل موظف</h5>
                          <form
                            action="{% url 'employee-update' hotel.slug employee.id %}"
                            method="post"
                            class="mt-2"
                          >
                            {% csrf_token %}
                            <div class="row g-gs">
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label" for="edit-name">
                                    الاسم</label
                                  >
                                  <div class="form-control-wrap">
                                    <input
                                      type="text"
                                      class="form-control"
                                      id="edit-name"
                                      value="{{ form.name.value }}"
                                      name="{{form.name.name}}"
                                    />
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label" for="edit-email">
                                    البريد الالكتروني</label
                                  >
                                  <div class="form-control-wrap">
                                    <input
                                      type="email"
                                      class="form-control"
                                      id="edit-email"
                                      name="{{form.email.name}}"
                                      value="{{form.email.value}}"
                                    />
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label" for="dept"
                                    >القسم</label
                                  >
                                  <div class="form-control-wrap">
                                    <select
                                      class="form-select js-select2"
                                      name="{{form.department.name}}"
                                      id="dept"
                                    >
                                      <option value="default_option">
                                        Select Department
                                      </option>
                                      {% for value, label in form.department.field.choices %}
                                      <option value="{{value}}" {% if value == form.department.value %}selected{% endif %}>
                                        {{label}}
                                      </option>
                                      {% endfor %}
                                    </select>
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label" for="edit-code"
                                    >المسمى الوظيفي</label
                                  >
                                  <div class="form-control-wrap">
                                    <input
                                      type="text"
                                      class="form-control"
                                      name="{{form.designation.name}}"
                                      id="edit-code"
                                      value="{{form.designation.value}}"
                                    />
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label" for="edit-phone"
                                    >رقم الهاتف</label
                                  >
                                  <div class="form-control-wrap">
                                    <input
                                      type="text"
                                      class="form-control"
                                      id="edit-phone"
                                      name="{{form.phone.name}}"
                                      value="{{form.phone.value}}"
                                    />
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label">العنوان</label>
                                  <div class="form-control-wrap">
                                    <input
                                      type="text"
                                      class="form-control"
                                      id="edit-address"
                                      name="{{form.address.name}}"
                                      value="{{form.address.value}}"
                                    />
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="form-label">التفعيل</label>
                                  <div class="form-control-wrap">
                                    <ul
                                      class="custom-control-group g-3 align-center flex-wrap"
                                    >
                                      <li>
                                        <div
                                          class="custom-control custom-checkbox"
                                        >
                                          <input
                                            type="checkbox"
                                            class="custom-control-input"
                                            checked="false"
                                            id="customCheck1"
                                          />
                                          <label
                                            class="custom-control-label"
                                            for="customCheck1"
                                            >Email</label
                                          >
                                        </div>
                                      </li>
                                      
                                    </ul>
                                  </div>
                                </div>
                              </div>
                              <div class="col-12">
                                <div class="form-group">
                                  <button
                                    data-bs-dismiss="modal"
                                    type="submit"
                                    class="btn btn-primary"
                                  >
                                    تحديث الموظف
                                  </button>
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                  <!-- .Edit Modal-Content -->
                  {% endfor %}
                  <!-- .nk-tb-item -->
                </div>
                <!-- .nk-tb-list -->
              </div>
              <!-- .card-inner -->
              <!-- Paginations -->
              {% include 'dashboard/components/paginator.html' with page_obj=employees %}
              <!-- .card-inner -->
            </div>
            <!-- .card-inner-group -->
          </div>
          <!-- .card -->
        </div>
        <!-- .nk-block -->
      </div>
    </div>
  </div>
</div>
<!-- content @e -->

{% endblock %}
